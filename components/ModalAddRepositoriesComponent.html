<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Git4School documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/Readthedocs.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">Git4School documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>ModalAddRepositoriesComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts</code>
</p>

    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>This component is a modal that is used to add several repositories at the same time.</p>
<p>To do so, a list of repositories for the authenticated user is displayed, and it is possible to use the search bar to search for repositories on Github</p>

    </p>


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
                    <code><a href="https://angular.io/api/core/OnDestroy" target="_blank" >OnDestroy</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-modal-add-repositories</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./modal-add-repositories.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./modal-add-repositories.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#datatable">datatable</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#done">done</a>
                            </li>
                            <li>
                                <a href="#footerHeight">footerHeight</a>
                            </li>
                            <li>
                                <a href="#headerHeight">headerHeight</a>
                            </li>
                            <li>
                                <a href="#loading">loading</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#modalService">modalService</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#page">page</a>
                            </li>
                            <li>
                                <a href="#rowHeight">rowHeight</a>
                            </li>
                            <li>
                                <a href="#rows">rows</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#searchFilter">searchFilter</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#searchFilterChanged">searchFilterChanged</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#searchSubscription">searchSubscription</a>
                            </li>
                            <li>
                                <a href="#selected">selected</a>
                            </li>
                            <li>
                                <a href="#tpGroup">tpGroup</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#getId">getId</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#initAttributes">initAttributes</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#loadResults">loadResults</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy">ngOnDestroy</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onClose">onClose</a>
                            </li>
                            <li>
                                <a href="#onScroll">onScroll</a>
                            </li>
                            <li>
                                <a href="#onSearch">onSearch</a>
                            </li>
                            <li>
                                <a href="#onSelect">onSelect</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#processIntermediateResponse">processIntermediateResponse</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#updateResults">updateResults</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#updateResultsWithAuthenticatedUser">updateResultsWithAuthenticatedUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#updateResultsWithSearchFilter">updateResultsWithSearchFilter</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#repoList">repoList</a>
                            </li>
                        </ul>
                    </td>
                </tr>




        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(modalService: NgbActiveModal, commitsService: <a href="../injectables/CommitsService.html">CommitsService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="114" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:114</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>modalService</td>
                                                  
                                                        <td>
                                                                    <code>NgbActiveModal</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>The service to manage the modal</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>commitsService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/CommitsService.html" target="_self" >CommitsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>The service to fetch repositories</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section>
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="repoList"></a>
                        <b>repoList</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/Repository.html" target="_self" >Repository[]</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:36</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The already-added repositories list.</p>
<p>It is used to check those repositories in the list of the repositories to add</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>



    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getId"></a>
                    <span class="name">
                        <b>
                            getId
                        </b>
                        <a href="#getId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getId(row)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="211"
                            class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:211</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>A function returning the repository URL.</p>
<p>This identifies a row, so that the check mark assignment works well</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>row</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>A row element from the datatable, corresponding to a repository</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        <p>The URL of the corresponding repository</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initAttributes"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            initAttributes
                        </b>
                        <a href="#initAttributes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>initAttributes()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="276"
                            class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:276</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Initialize the component attributes, including the <a href="../components/ModalAddRepositoriesComponent.html#searchSubscription">search subscription</a></p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadResults"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            loadResults
                        </b>
                        <a href="#loadResults"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadResults()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="194"
                            class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:194</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Fetch and load the repositories into the <a href="datatable">datatable</a>.</p>
<p>If there is a <a href="../components/ModalAddRepositoriesComponent.html#searchFilter">search filter</a>,
uses <a href="../components/ModalAddRepositoriesComponent.html#updateResultsWithSearchFilter">updateResultsWithSearchFilter</a>,
if not, uses <a href="../components/ModalAddRepositoriesComponent.html#updateResultsWithAuthenticatedUser">updateResultsWithAuthenticatedUser</a></p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <b>
                            ngOnDestroy
                        </b>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="309"
                            class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:309</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>When the component is destroyed, we unsubscribe from the <a href="../components/ModalAddRepositoriesComponent.html#searchSubscription">search subscription</a></p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <b>
                            ngOnInit
                        </b>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="301"
                            class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:301</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>When the component is initialized, we <a href="../components/ModalAddRepositoriesComponent.html#initAttributes">initialize</a> its attributes
and <a href="../components/ModalAddRepositoriesComponent.html#loadResults">load</a> the repositories</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onClose"></a>
                    <span class="name">
                        <b>
                            onClose
                        </b>
                        <a href="#onClose"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onClose()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="241"
                            class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:241</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Called when the user leaves the modal.</p>
<p>It assigns to the <a href="../components/ModalAddRepositoriesComponent.html#selected">selected repositories</a> the indicated <a href="../components/ModalAddRepositoriesComponent.html#tpGroup">TP group</a>
and sends them to the parent component by closing the modal</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onScroll"></a>
                    <span class="name">
                        <b>
                            onScroll
                        </b>
                        <a href="#onScroll"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onScroll(offsetY: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="222"
                            class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:222</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Called when the user scrolls through the repositories list.</p>
<p>It <a href="../components/ModalAddRepositoriesComponent.html#loadResults">loads</a> the repositories</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>offsetY</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>An indicator of the current scroll level</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onSearch"></a>
                    <span class="name">
                        <b>
                            onSearch
                        </b>
                        <a href="#onSearch"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onSearch(event)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="268"
                            class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:268</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Called when a key is entered into the search field.</p>
<p>It stores the <a href="../components/ModalAddRepositoriesComponent.html#searchFilter">search filter</a> and notify the corresponding <a href="../components/ModalAddRepositoriesComponent.html#searchFilterChanged">subject</a></p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The $event object containing the search filter</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onSelect"></a>
                    <span class="name">
                        <b>
                            onSelect
                        </b>
                        <a href="#onSelect"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onSelect(undefined)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="256"
                            class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:256</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Called when a repository is checked.</p>
<p>It pushes the checked repositories into the <a href="../components/ModalAddRepositoriesComponent.html#selected">selected repositories</a> array</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processIntermediateResponse"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            processIntermediateResponse
                        </b>
                        <a href="#processIntermediateResponse"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>processIntermediateResponse(response: Observable<literal type>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="144"
                            class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:144</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Process the intermediate response from the service retrieving the repositories.</p>
<p>It set <a href="../components/ModalAddRepositoriesComponent.html#done">done</a> and <a href="../components/ModalAddRepositoriesComponent.html#updateResults">update</a> the datatable with the fetched repositories</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>response</td>
                                    <td>
                                            <code>Observable&lt;literal type&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The intermediate response from the service</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Subscription</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateResults"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            updateResults
                        </b>
                        <a href="#updateResults"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateResults(repositories: <a href="../classes/Repository.html">Repository[]</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="130"
                            class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:130</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Add the given repositories to the datatable and increment the next <a href="../components/ModalAddRepositoriesComponent.html#page">page</a> to fetch</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>repositories</td>
                                    <td>
                                                <code><a href="../classes/Repository.html" target="_self" >Repository[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The repositories to add to the datatable</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateResultsWithAuthenticatedUser"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            updateResultsWithAuthenticatedUser
                        </b>
                        <a href="#updateResultsWithAuthenticatedUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateResultsWithAuthenticatedUser(page: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="168"
                            class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:168</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Fetch the repositories for the authenticated user
and <a href="../components/ModalAddRepositoriesComponent.html#updateResults">update</a> the datatable with it</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>page</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The page of repositories to fetch</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateResultsWithSearchFilter"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            updateResultsWithSearchFilter
                        </b>
                        <a href="#updateResultsWithSearchFilter"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateResultsWithSearchFilter(searchFilter: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, page: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="181"
                            class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:181</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Fetch the repositories from the <a href="../components/ModalAddRepositoriesComponent.html#searchFilter">search filter</a> and
<a href="../components/ModalAddRepositoriesComponent.html#updateResults">update</a> the datatable with it</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>searchFilter</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The search filter used to fetch the repositories</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>page</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>The page of repositories to fetch</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="datatable"></a>
                        <span class="name">
                            <b>
                            datatable</b>
                            <a href="#datatable"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/core/ElementRef" target="_blank" >ElementRef</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <b>Decorators : </b>
                            <br />
                            <code>
                                @ViewChild(&#x27;reposTable&#x27;, {read: ElementRef})<br />
                            </code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="29" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:29</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>A DOM element used to get the datatable view height</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="done"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            done</b>
                            <a href="#done"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="92" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:92</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The boolean indicating that there is no more next page to fetch the repositories</p>
<p>See <a href="../components/ModalAddRepositoriesComponent.html#updateResultsWithAuthenticatedUser">updateResultsWithAuthenticatedUser</a>
and <a href="../components/ModalAddRepositoriesComponent.html#updateResultsWithSearchFilter">updateResultsWithSearchFilter</a> where it is set</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="footerHeight"></a>
                        <span class="name">
                            <b>
                            footerHeight</b>
                            <a href="#footerHeight"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="70" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:70</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The height of the repository table footer</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="headerHeight"></a>
                        <span class="name">
                            <b>
                            headerHeight</b>
                            <a href="#headerHeight"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="65" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:65</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The height of the repository table header</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="loading"></a>
                        <span class="name">
                            <b>
                            loading</b>
                            <a href="#loading"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:48</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>A boolean to indicate the repositories are being fetched</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="modalService"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            modalService</b>
                            <a href="#modalService"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>NgbActiveModal</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="121" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:121</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description">The service to manage the modal</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="page"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            page</b>
                            <a href="#page"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="84" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:84</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The next page of the repositories to be fetched from Github</p>
<p>See <a href="../components/ModalAddRepositoriesComponent.html#updateResults">updateResults</a> where it is incremented</p>
<p>See <a href="../components/ModalAddRepositoriesComponent.html#searchSubscription">searchSubscription</a> where it is reset</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="rowHeight"></a>
                        <span class="name">
                            <b>
                            rowHeight</b>
                            <a href="#rowHeight"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="75" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:75</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The height of one repository row</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="rows"></a>
                        <span class="name">
                            <b>
                            rows</b>
                            <a href="#rows"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/Repository.html" target="_self" >Repository[]</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="43" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:43</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The loaded repositories to add.</p>
<p>It can be from the authenticated user or from a search</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="searchFilter"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            searchFilter</b>
                            <a href="#searchFilter"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="114" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:114</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The string corresponding to the repository search filter</p>
<p>See <a href="../components/ModalAddRepositoriesComponent.html#searchSubscription">searchSubscription</a> and <a href="../components/ModalAddRepositoriesComponent.html#searchFilterChanged">searchFilterChanged</a>
for more information about the search process</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="searchFilterChanged"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            searchFilterChanged</b>
                            <a href="#searchFilterChanged"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Subject&lt;string&gt;</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="106" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:106</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>This subject is used to notify the subcription that the search filter has changed and send it</p>
<p>See <a href="../components/ModalAddRepositoriesComponent.html#searchSubscription">searchSubscription</a> for more information about the handling</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="searchSubscription"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            searchSubscription</b>
                            <a href="#searchSubscription"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Subscription</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="99" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:99</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>This subscription will load the repositories when a string has been entered in the search bar, after 1 second of inactivity</p>
<p>See <a href="../components/ModalAddRepositoriesComponent.html#loadResults">loadResults</a> for more information about the repositories loading</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="selected"></a>
                        <span class="name">
                            <b>
                            selected</b>
                            <a href="#selected"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/Repository.html" target="_self" >Repository[]</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="55" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:55</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The to-add repositories list.</p>
<p>At the component initialization, it is initialized with <a href="../components/ModalAddRepositoriesComponent.html#repoList">repoList</a></p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="tpGroup"></a>
                        <span class="name">
                            <b>
                            tpGroup</b>
                            <a href="#tpGroup"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="60" class="link-to-prism">src/app/components/configuration/edit-repositories/modal-add-repositories/modal-add-repositories.component.ts:60</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The TP group assigned to all repositories to be added</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
  Component,
  ElementRef,
  Input,
  OnDestroy,
  OnInit,
  ViewChild,
} from &quot;@angular/core&quot;;
import { Repository } from &quot;@models/Repository.model&quot;;
import { NgbActiveModal } from &quot;@ng-bootstrap/ng-bootstrap&quot;;
import { CommitsService } from &quot;@services/commits.service&quot;;
import { Observable, Subject, Subscription } from &quot;rxjs&quot;;
import { debounceTime, map } from &quot;rxjs/operators&quot;;

/**
 * This component is a modal that is used to add several repositories at the same time.
 *
 * To do so, a list of repositories for the authenticated user is displayed, and it is possible to use the search bar to search for repositories on Github
 */
@Component({
  selector: &quot;app-modal-add-repositories&quot;,
  templateUrl: &quot;./modal-add-repositories.component.html&quot;,
  styleUrls: [&quot;./modal-add-repositories.component.scss&quot;],
})
export class ModalAddRepositoriesComponent implements OnInit, OnDestroy {
  /**
   * A DOM element used to get the datatable view height
   */
  @ViewChild(&quot;reposTable&quot;, { read: ElementRef }) datatable: ElementRef;

  /**
   * The already-added repositories list.
   *
   * It is used to check those repositories in the list of the repositories to add
   */
  @Input() repoList: Repository[];

  /**
   * The loaded repositories to add.
   *
   * It can be from the authenticated user or from a search
   */
  rows: Repository[];

  /**
   * A boolean to indicate the repositories are being fetched
   */
  loading: boolean;

  /**
   * The to-add repositories list.
   *
   * At the component initialization, it is initialized with [repoList]{@link ModalAddRepositoriesComponent#repoList}
   */
  selected: Repository[];

  /**
   * The TP group assigned to all repositories to be added
   */
  tpGroup: string;

  /**
   * The height of the repository table header
   */
  headerHeight: number;

  /**
   * The height of the repository table footer
   */
  footerHeight: number;

  /**
   * The height of one repository row
   */
  rowHeight: number;

  /**
   * The next page of the repositories to be fetched from Github
   *
   * See [updateResults]{@link ModalAddRepositoriesComponent#updateResults} where it is incremented
   *
   * See [searchSubscription]{@link ModalAddRepositoriesComponent#searchSubscription} where it is reset
   */
  private page: number;

  /**
   * The boolean indicating that there is no more next page to fetch the repositories
   *
   * See [updateResultsWithAuthenticatedUser]{@link ModalAddRepositoriesComponent#updateResultsWithAuthenticatedUser}
   * and [updateResultsWithSearchFilter]{@link ModalAddRepositoriesComponent#updateResultsWithSearchFilter} where it is set
   */
  private done: boolean;

  /**
   * This subscription will load the repositories when a string has been entered in the search bar, after 1 second of inactivity
   *
   * See [loadResults]{@link ModalAddRepositoriesComponent#loadResults} for more information about the repositories loading
   */
  private searchSubscription: Subscription;

  /**
   * This subject is used to notify the subcription that the search filter has changed and send it
   *
   * See [searchSubscription]{@link ModalAddRepositoriesComponent#searchSubscription} for more information about the handling
   */
  private searchFilterChanged: Subject&lt;string&gt;;

  /**
   * The string corresponding to the repository search filter
   *
   * See [searchSubscription]{@link ModalAddRepositoriesComponent#searchSubscription} and [searchFilterChanged]{@link ModalAddRepositoriesComponent#searchFilterChanged}
   * for more information about the search process
   */
  private searchFilter;

  /**
   * @param {NgbActiveModal} modalService The service to manage the modal
   * @param {CommitsService} commitsService The service to fetch repositories
   */
  constructor(
    public modalService: NgbActiveModal,
    private commitsService: CommitsService
  ) {}

  /**
   * Add the given repositories to the datatable and increment the next [page]{@link ModalAddRepositoriesComponent#page} to fetch
   *
   * @param {Repository[]} repositories The repositories to add to the datatable
   */
  private updateResults(repositories: Repository[]) {
    this.rows &#x3D; [...this.rows, ...repositories];
    this.loading &#x3D; false;
    this.page++;
  }

  /**
   * Process the intermediate response from the service retrieving the repositories.
   *
   * It set [done]{@link ModalAddRepositoriesComponent#done} and [update]{@link ModalAddRepositoriesComponent#updateResults} the datatable with the fetched repositories
   *
   * @param { Observable&lt;{ completed: boolean, repositories: Repository[] }&gt; } response The intermediate response from the service
   * @return {Subscription}
   */
  private processIntermediateResponse(
    response: Observable&lt;{
      completed: boolean;
      repositories: Repository[];
    }&gt;
  ): Subscription {
    return response
      .pipe(
        map((res) &#x3D;&gt; {
          this.done &#x3D; res.completed;
          return res.repositories;
        })
      )
      .subscribe((repositories) &#x3D;&gt; {
        this.updateResults(repositories);
      });
  }

  /**
   * Fetch the repositories for the authenticated user
   * and [update]{@link ModalAddRepositoriesComponent#updateResults} the datatable with it
   *
   * @param {number} page The page of repositories to fetch
   */
  private updateResultsWithAuthenticatedUser(page: number) {
    this.processIntermediateResponse(
      this.commitsService.getRepositoriesByAuthenticatedUser(page)
    );
  }

  /**
   * Fetch the repositories from the [search filter]{@link ModalAddRepositoriesComponent#searchFilter} and
   * [update]{@link ModalAddRepositoriesComponent#updateResults} the datatable with it
   *
   * @param {string} searchFilter The search filter used to fetch the repositories
   * @param {number} page The page of repositories to fetch
   */
  private updateResultsWithSearchFilter(searchFilter: string, page: number) {
    this.processIntermediateResponse(
      this.commitsService.getRepositoriesBySearch(searchFilter, page)
    );
  }

  /**
   * Fetch and load the repositories into the [datatable]{@link datatable}.
   *
   * If there is a [search filter]{@link ModalAddRepositoriesComponent#searchFilter},
   * uses [updateResultsWithSearchFilter]{@link ModalAddRepositoriesComponent#updateResultsWithSearchFilter},
   * if not, uses [updateResultsWithAuthenticatedUser]{@link ModalAddRepositoriesComponent#updateResultsWithAuthenticatedUser}
   */
  private loadResults() {
    this.loading &#x3D; true;
    if (this.searchFilter) {
      this.updateResultsWithSearchFilter(this.searchFilter, this.page);
    } else {
      this.updateResultsWithAuthenticatedUser(this.page);
    }
  }

  /**
   * A function returning the repository URL.
   *
   * This identifies a row, so that the check mark assignment works well
   *
   * @param row A row element from the datatable, corresponding to a repository
   * @return {string} The URL of the corresponding repository
   */
  getId(row): string {
    return row.url;
  }

  /**
   * Called when the user scrolls through the repositories list.
   *
   * It [loads]{@link ModalAddRepositoriesComponent#loadResults} the repositories
   *
   * @param {number} offsetY An indicator of the current scroll level
   */
  onScroll(offsetY: number) {
    const viewHeight &#x3D;
      this.datatable.nativeElement.getBoundingClientRect().height -
      this.headerHeight -
      this.footerHeight;
    const endOfScrolling &#x3D;
      offsetY + viewHeight &gt;&#x3D; this.rows.length * this.rowHeight;

    if (!this.loading &amp;&amp; !this.done &amp;&amp; endOfScrolling) {
      this.loadResults();
    }
  }

  /**
   * Called when the user leaves the modal.
   *
   * It assigns to the [selected repositories]{@link ModalAddRepositoriesComponent#selected} the indicated [TP group]{@link ModalAddRepositoriesComponent#tpGroup}
   * and sends them to the parent component by closing the modal
   */
  onClose() {
    this.selected.forEach((repo) &#x3D;&gt; {
      repo.tpGroup &#x3D; this.tpGroup;
      repo.name &#x3D; &quot;&quot;;
    });
    this.modalService.close(this.selected);
  }

  /**
   * Called when a repository is checked.
   *
   * It pushes the checked repositories into the [selected repositories]{@link ModalAddRepositoriesComponent#selected} array
   *
   * @param {Repository[]} selected The repositories that has been selected
   */
  onSelect({ selected }) {
    this.selected.splice(0, this.selected.length);
    this.selected.push(...selected);
  }

  /**
   * Called when a key is entered into the search field.
   *
   * It stores the [search filter]{@link ModalAddRepositoriesComponent#searchFilter} and notify the corresponding [subject]{@link ModalAddRepositoriesComponent#searchFilterChanged}
   *
   * @param event The $event object containing the search filter
   */
  onSearch(event) {
    this.searchFilter &#x3D; event.target.value.toLowerCase();
    this.searchFilterChanged.next(this.searchFilter);
  }

  /**
   * Initialize the component attributes, including the [search subscription]{@link ModalAddRepositoriesComponent#searchSubscription}
   */
  private initAttributes() {
    this.selected &#x3D; this.repoList;
    this.rows &#x3D; [];
    this.loading &#x3D; false;
    this.tpGroup &#x3D; &quot;&quot;;
    this.headerHeight &#x3D; 50;
    this.footerHeight &#x3D; 50;
    this.rowHeight &#x3D; 50;
    this.page &#x3D; 1;
    this.done &#x3D; false;
    this.searchFilterChanged &#x3D; new Subject&lt;string&gt;();
    this.searchFilter &#x3D; &quot;&quot;;
    this.searchSubscription &#x3D; this.searchFilterChanged
      .pipe(debounceTime(1000))
      .subscribe((searchFilter) &#x3D;&gt; {
        this.page &#x3D; 1;
        this.rows &#x3D; [];
        this.loadResults();
      });
  }

  /**
   * When the component is initialized, we [initialize]{@link ModalAddRepositoriesComponent#initAttributes} its attributes
   * and [load]{@link ModalAddRepositoriesComponent#loadResults} the repositories
   */
  ngOnInit() {
    this.initAttributes();
    this.loadResults();
  }

  /**
   * When the component is destroyed, we unsubscribe from the [search subscription]{@link ModalAddRepositoriesComponent#searchSubscription}
   */
  ngOnDestroy(): void {
    this.searchSubscription.unsubscribe();
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;modal-header&quot;&gt;
    &lt;h4 class&#x3D;&quot;modal-title&quot; id&#x3D;&quot;modal-basic-title&quot;&gt;{{ &#x27;MODAL-ADD-REPOSITORIES.TITLE&#x27; | translate }}&lt;/h4&gt;
    &lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;close&quot; aria-label&#x3D;&quot;Close&quot; (click)&#x3D;&quot;modalService.dismiss(&#x27;Cross click&#x27;)&quot;&gt;
        &lt;span aria-hidden&#x3D;&quot;true&quot;&gt;&amp;times;&lt;/span&gt;
    &lt;/button&gt;
&lt;/div&gt;
&lt;div class&#x3D;&quot;modal-body&quot;&gt;
    &lt;input class&#x3D;&quot;form-control mb-2&quot; type&#x3D;&quot;text&quot;
        placeholder&#x3D;&quot;{{ &#x27;MODAL-ADD-REPOSITORIES.PLACEHOLDER-FILTER&#x27; | translate }}&quot; (keyup)&#x3D;&quot;onSearch($event)&quot; /&gt;
    &lt;ngx-datatable #reposTable class&#x3D;&quot;material striped&quot; style&#x3D;&quot;height: 400px&quot; [rows]&#x3D;&quot;rows&quot;
        [headerHeight]&#x3D;&quot;headerHeight&quot; [footerHeight]&#x3D;&quot;footerHeight&quot; [rowHeight]&#x3D;&quot;rowHeight&quot; [loadingIndicator]&#x3D;&quot;loading&quot;
        [scrollbarV]&#x3D;&quot;true&quot; [columnMode]&#x3D;&quot;&#x27;force&#x27;&quot; [selected]&#x3D;&quot;selected&quot; [selectionType]&#x3D;&quot;&#x27;checkbox&#x27;&quot;
        [selectAllRowsOnPage]&#x3D;&quot;true&quot; [virtualization]&#x3D;&quot;false&quot; (select)&#x3D;&quot;onSelect($event)&quot;
        (scroll)&#x3D;&quot;onScroll($event.offsetY)&quot; [rowIdentity]&#x3D;&quot;getId&quot;&gt;
        &lt;ngx-datatable-column [headerCheckboxable]&#x3D;&quot;true&quot; [checkboxable]&#x3D;&quot;true&quot; [minWidth]&#x3D;&quot;55&quot; [maxWidth]&#x3D;&quot;100&quot;
            [width]&#x3D;&quot;70&quot;&gt;
        &lt;/ngx-datatable-column&gt;
        &lt;ngx-datatable-column name&#x3D;&quot;{{ &#x27;MODAL-ADD-REPOSITORIES.COLUMN-NAME&#x27; | translate }}&quot; prop&#x3D;&quot;name&quot; [width]&#x3D;&quot;500&quot;&gt;
        &lt;/ngx-datatable-column&gt;
        &lt;ngx-datatable-column name&#x3D;&quot;{{ &#x27;MODAL-ADD-REPOSITORIES.COLUMN-URL&#x27; | translate }}&quot; prop&#x3D;&quot;url&quot; [width]&#x3D;&quot;1200&quot;&gt;
        &lt;/ngx-datatable-column&gt;
    &lt;/ngx-datatable&gt;
&lt;/div&gt;
&lt;div class&#x3D;&quot;modal-footer&quot;&gt;
    &lt;div class&#x3D;&quot;input-group&quot;&gt;
        &lt;input type&#x3D;&quot;text&quot; class&#x3D;&quot;form-control&quot;
            placeholder&#x3D;&quot;{{ &#x27;MODAL-ADD-REPOSITORIES.PLACEHOLDER-TPGROUP&#x27; | translate }}&quot; [(ngModel)]&#x3D;&quot;tpGroup&quot;&gt;
        &lt;div class&#x3D;&quot;input-group-append&quot;&gt;
            &lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn btn-outline-dark&quot;
                (click)&#x3D;&quot;onClose()&quot;&gt;{{ &#x27;MODAL-ADD-REPOSITORIES.BUTTON-ADD&#x27; | translate }}&lt;/button&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./modal-add-repositories.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss"></code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="modal-header">    <h4 class="modal-title" id="modal-basic-title">{{ \'MODAL-ADD-REPOSITORIES.TITLE\' | translate }}</h4>    <button type="button" class="close" aria-label="Close" (click)="modalService.dismiss(\'Cross click\')">        <span aria-hidden="true">&times;</span>    </button></div><div class="modal-body">    <input class="form-control mb-2" type="text"        placeholder="{{ \'MODAL-ADD-REPOSITORIES.PLACEHOLDER-FILTER\' | translate }}" (keyup)="onSearch($event)" />    <ngx-datatable #reposTable class="material striped" style="height: 400px" [rows]="rows"        [headerHeight]="headerHeight" [footerHeight]="footerHeight" [rowHeight]="rowHeight" [loadingIndicator]="loading"        [scrollbarV]="true" [columnMode]="\'force\'" [selected]="selected" [selectionType]="\'checkbox\'"        [selectAllRowsOnPage]="true" [virtualization]="false" (select)="onSelect($event)"        (scroll)="onScroll($event.offsetY)" [rowIdentity]="getId">        <ngx-datatable-column [headerCheckboxable]="true" [checkboxable]="true" [minWidth]="55" [maxWidth]="100"            [width]="70">        </ngx-datatable-column>        <ngx-datatable-column name="{{ \'MODAL-ADD-REPOSITORIES.COLUMN-NAME\' | translate }}" prop="name" [width]="500">        </ngx-datatable-column>        <ngx-datatable-column name="{{ \'MODAL-ADD-REPOSITORIES.COLUMN-URL\' | translate }}" prop="url" [width]="1200">        </ngx-datatable-column>    </ngx-datatable></div><div class="modal-footer">    <div class="input-group">        <input type="text" class="form-control"            placeholder="{{ \'MODAL-ADD-REPOSITORIES.PLACEHOLDER-TPGROUP\' | translate }}" [(ngModel)]="tpGroup">        <div class="input-group-append">            <button type="button" class="btn btn-outline-dark"                (click)="onClose()">{{ \'MODAL-ADD-REPOSITORIES.BUTTON-ADD\' | translate }}</button>        </div>    </div></div></div>'
    var COMPONENTS = [{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'BaseEditConfigurationComponent', 'selector': ''},{'name': 'BaseGraphComponent', 'selector': ''},{'name': 'BaseTabEditConfigurationComponent', 'selector': ''},{'name': 'ConfigurationComponent', 'selector': ''},{'name': 'EditRepositoriesComponent', 'selector': 'edit-repositories'},{'name': 'EditSessionsComponent', 'selector': 'edit-sessions'},{'name': 'FourOhFourComponent', 'selector': 'four-oh-four'},{'name': 'HomeComponent', 'selector': 'home'},{'name': 'MetadataComponent', 'selector': 'metadata'},{'name': 'ModalAddRepositoriesComponent', 'selector': 'app-modal-add-repositories'},{'name': 'OverviewComponent', 'selector': 'overview'},{'name': 'QuestionsCompletionComponent', 'selector': 'questions-completion'},{'name': 'StudentsCommitsComponent', 'selector': 'students-commits'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'ModalAddRepositoriesComponent'};
</script>
<script src="../js/tree.js"></script>










                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'ModalAddRepositoriesComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
